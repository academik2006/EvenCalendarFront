
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –æ—Ç –°—É—à–∏ –ú–∞—Å—Ç–µ—Ä</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script> 
    <link rel="stylesheet" href="main.css">  
    <script src="cards.js"></script>        
</head>
<body>

<audio loop id="audioMain">
    <source src="music/jingle_bells_7.mp3" type="audio/mpeg">    
    –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ –º—É–∑—ã–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.
</audio>

<div id = "start-screen-id" class="start-screen">
    <div>
        <div class="title_28_white" style="margin-top: 280px;">
            <p>–ì–æ—Ç–æ–≤–∏–º—Å—è –∫ –Ω–æ–≤–æ–º—É –≥–æ–¥—É!</p>
        </div>   
        <div class="text_14_white" style="margin-top: 20px;">
            <p>–ë–æ–ª—å—à–∞—è –ü–µ—Ä–≤–æ–º–∞–π—Å–∫–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –æ—Ç –°—É—à–∏ –ú–∞—Å—Ç–µ—Ä ‚Äì —ç—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞–π—Å–∫–∏–π –º–∞—Ä–∞—Ñ–æ–Ω –∑–Ω–∞–Ω–∏–π.</p>
        </div>       
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="show-rules" class="button-common button-common-rules">–ß–∏—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞</button>      
        </div>                
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="start-game" class="button-common">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>      
        </div>
    </div>   
</div>

<div id = "rules-screen-id" class="rules-screen">
    <div>
        <div class="title_28_black">
            <p>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</p>
        </div>        
        <div class="image-rules-screen">            
            <img src="pic/little_cat_rules.png" alt="rules_screen_cat_pic">
        </div>               
        <div class="rules-screen-body">
            <br>
                –û—Ç–≤–µ—á–∞–π –Ω–∞ –º–∞–π—Å–∫–æ-–æ–≥–æ—Ä–æ–¥–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –∏ –±–æ–Ω—É—Å—ã –ø–æ—Å—ã–ø–ª—é—Ç—Å—è, –∫–∞–∫ —Å–ø–µ–ª—ã–µ —è–±–ª–æ–∫–∏: üéâ.<br>
                <br>
                <b>80 –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤</b> - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –ø—Ä–∏–∑. –ó–∞–±—Ä–∞—Ç—å –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É - —Ä–µ—à–∞—Ç—å —Ç–µ–±–µ, –Ω–æ –µ—Å–ª–∏ –¥–æ–ø—É—Å—Ç–∏—à—å –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ, —Ç–æ –±–∞–ª–ª—ã –ø—Ä–µ–≤—Ä–∞—Ç—è—Ç—Å—è –≤ —Å–æ—Ä–Ω—è–∫–∏.<br>
                <br>
                <b>160 –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤</b> - –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –ø—Ä–∏–∑. –£–∂–µ –∫—Ä–∞—Å–∞–≤—á–∏–∫, –Ω–æ –µ—â–µ –Ω–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—å. –•–≤–∞—Ç–∞–π –∏ —Å—Ä–æ—á–Ω–æ —Ç—Ä–∞—Ç—å –Ω–∞ —Ä–æ–ª–ª—ã –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–π –ø—É—Ç—å, –Ω–æ –±–µ—Ä–µ–≥–∏—Å—å - –æ–¥–∏–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –∏ –±–æ–Ω—É—Å—ã –ø–æ–π–¥—É—Ç –Ω–∞ –∫–æ—Ä–º –∫—Ä–æ—Ç–∞–º.<br>
                <br>
                <b>300 –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤</b> - –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑. –î–æ—Å—Ç–æ–π–Ω—ã —Ç–æ–ª—å–∫–æ –≥—É—Ä—É –º–∞–π—Å–∫–∏—Ö –ø–æ—Å–∏–¥–µ–ª–æ–∫ (—É –∫–æ–≥–æ –∏ —Ä–æ–ª–ª—ã, –∏ —à–∞—à–ª—ã–∫ –Ω–∞ —Å—Ç–æ–ª–µ). üéÅ! <br>            
        </div>        
        <div class="modal-footer" style="margin-top: 20px;">            
            <button id="start-game2" class="button-common">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>      
        </div>
    </div>   
</div>

<div id = "event_calendar_screen_id" class="container">      
        
    <div class="card-grid">        
        <div id="cards-container"></div>
    </div>    

    <div>
        <button id="music-off" class="btn-main-screen-option">
           <img src="pic/sound_pic.png" alt="turn_sound_pic">
        </button>                                                
    </div>

    <div class="cover"></div>   
   
            
</div>

<div id="open-card-id" class="open-card">
    <div>
        <div class="modal-image">            
            <img src="pic/02.png" alt="card_pic">
        </div>               
        <div id="card-text" class="mistersu-hint-body">
            <p>–°–µ—Ç –¢–í–û–ô –ë–†–û —Å–æ —Å–∫–∏–¥–∫–æ–π 25%</p>
        </div>
        <div class="modal-footer">            
            <button id="take-promocode-button" class="btn-modal-dialog">–ó–∞–±—Ä–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>            
        </div>        
        <div class="modal-footer">            
            <button id="return-game-button" class="btn-modal-dialog">–ù–∞–∑–∞–¥</button>            
        </div>
    </div>
</div>

<script>


let rowsContainer = document.getElementById('cards-container');
let isMusicPlay = true;
let audioMain = document.getElementById("audioMain");

document.getElementById('start-game').addEventListener('click', startGame);
document.getElementById('start-game2').addEventListener('click', startGame);
document.getElementById('cards-container').addEventListener('click', showMisterSuHint)
document.getElementById('show-rules').addEventListener('click', showRules);
document.getElementById('music-off').addEventListener('click', switchMusic);

document.getElementById("return-game-button").addEventListener("click", function () {
    hideDialog(); // –°–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥    
});


    function generateCards() {
    let rowsContainer = document.getElementById('cards-container');

    for (let i = 0; i < Math.ceil(cards.length / 3); i++) {
        let rowDiv = document.createElement('div');
        rowDiv.className = 'row';

        for (let j = 0; j < 3 && ((i * 3) + j) < cards.length; j++) {
            const cardData = cards[(i * 3) + j];
            let cardDiv = document.createElement('div');
            cardDiv.className = 'card';
            if (i === Math.floor(cards.length / 3)) { // –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞?
                cardDiv.className += ' last-row-card'; // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–∞—Ä—Ç—ã
            }
            cardDiv.style.backgroundImage = `url('pic/open_now_bg.png')`;

            // –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏
            cardDiv.innerHTML = `                
                <img src="${cardData.imageUrl}" alt=""/>
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–∂–æ–∫ —Å –Ω–æ–º–µ—Ä–æ–º
            let circleDiv = document.createElement('div');
            circleDiv.className = 'circle-number';
            circleDiv.style.position = 'absolute';
            circleDiv.style.right = '5px';
            circleDiv.style.top = '5px';
            circleDiv.style.width = '30px';
            circleDiv.style.height = '30px';
            circleDiv.style.backgroundImage = `url('pic/cifra_back.png')`;
            circleDiv.style.backgroundSize = 'cover';
            circleDiv.style.borderRadius = '50%';
            circleDiv.style.display = 'flex';
            circleDiv.style.alignItems = 'center';
            circleDiv.style.justifyContent = 'center';

            // –¶–∏—Ñ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –∫—Ä—É–∂–∫–∞
            let numberSpan = document.createElement('span');
            numberSpan.className = 'circle-text';
            numberSpan.style.color = '#fff';
            numberSpan.style.fontSize = '14px';
            numberSpan.textContent = `${cardData.number}`;
            circleDiv.appendChild(numberSpan);

            // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–∂–æ–∫ –≤ –∫–∞—Ä—Ç–æ—á–∫—É
            cardDiv.appendChild(circleDiv);

            rowDiv.appendChild(cardDiv);
        }
        rowsContainer.appendChild(rowDiv);
    }
}

           
    function startGame() {
        generateCards()
        document.getElementById("event_calendar_screen_id").style.display = "block";
        document.getElementById('start-screen-id').style.display = "none";
        document.getElementById('rules-screen-id').style.display = "none";                
        audioMain.volume = 0.2;                
        audioMain.play();           
    }

    function showRules() {
        document.getElementById("rules-screen-id").style.display = "block";
        document.getElementById('start-screen-id').style.display = "none";                    
    }
    
           
    function showResultScreen() {
        document.getElementById("main_questions_screen_id").style.display = "none";
        document.getElementById("game_stage_screen_id").style.display = "block";
    }

    function switchMusic() {
        
        if(isMusicPlay) {
            audioMain.pause();
            isMusicPlay = false;
            document.getElementById('music-off').classList.add('btn-main-screen-option-active');            
        } else {
            audioMain.play();
            isMusicPlay = true;
            document.getElementById('music-off').classList.remove('btn-main-screen-option-active');            
        }        
    }
        
    //–ü–æ–∫–∞–∑ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –º–µ—Å—Ç–∞ –°—É
    function showMisterSuHint() {
    document.getElementById("event_calendar_screen_id").style.display = "none";
    document.getElementById("open-card-id").style.display = "block";
    document.getElementById('card-text').innerHTML = "–°–µ—Ç –¢–í–û–ô –ë–†–û —Å–æ —Å–∫–∏–¥–∫–æ–π 25%";
}

// –°–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function hideDialog() {
    document.getElementById('open-card-id').style.display = "none";
    document.getElementById("event_calendar_screen_id").style.display = "block";    
    }

   
</script>

<script>
    let tg = window.Telegram.WebApp; //–ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç webapp —Ç–µ–ª–µ–≥—Ä–∞–º–∞ 
    tg.expand(); //—Ä–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤—Å–µ –æ–∫–Ω–æ     
    /*      
    document.getElementById('exit-game-lose').addEventListener('click', function(){
      tg.sendData("0");      
    });       
    */
    
 </script>
</body>
</html>